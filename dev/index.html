<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · LiveServer.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><link href="assets/custom.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>LiveServer.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Usage-1">Usage</a></li><li><a class="toctext" href="#How-it-works-1">How it works</a></li></ul></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="man/functionalities/">Functionalities</a></li><li><a class="toctext" href="man/extending_ls/">Extending LiveServer</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="lib/public/">Public</a></li><li><a class="toctext" href="lib/internals/">Internals</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul><a class="edit-page" href="https://github.com/asprionj/LiveServer.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="LiveServer.jl-Documentation-1" href="#LiveServer.jl-Documentation-1">LiveServer.jl - Documentation</a></h1><p>LiveServer is a simple and lightweight development web-server written in Julia, based on <a href="https://github.com/JuliaWeb/HTTP.jl">HTTP.jl</a>. It has live-reload capability, i.e. when changing files, every browser (tab) currently displaying a corresponding page is automatically refreshed.</p><p>LiveServer is inspired from Python&#39;s <a href="https://docs.python.org/3/library/http.server.html"><code>http.server</code></a> and Node&#39;s <a href="https://www.browsersync.io/"><code>browsersync</code></a>.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>The package is currently un-registered. In Julia ≥ 1.0, you can add it using the Package Manager writing</p><pre><code class="language-julia-repl">pkg&gt; add https://github.com/asprionj/LiveServer.jl</code></pre><h2><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h2><p>The main function <code>LiveServer</code> exports is <a href="lib/public/#LiveServer.serve"><code>serve</code></a> which starts listening to the current folder and makes its content available to a browser. The following code creates an example directory and serves it:</p><pre><code class="language-julia-repl">julia&gt; using LiveServer
julia&gt; LiveServer.example() # creates an &quot;example/&quot; folder with some files
julia&gt; cd(&quot;example&quot;)
julia&gt; serve() # starts the local server &amp; the file watching
✓ LiveServer listening on http://localhost:8000...
  (use CTRL+C to shut down)</code></pre><p>Open a Browser and go to <code>http://localhost:8000/</code> to see the content being rendered; try modifying files (such as <code>index.html</code>) and watch the changes being rendered immediately in the browser.</p><h3><a class="nav-anchor" id="Serve-docs-1" href="#Serve-docs-1">Serve docs</a></h3><p>A function derived from <code>serve</code> that will be convenient to Julia package developpers is <code>servedocs</code>. It runs <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> along with <code>LiveServer</code> to render your docs and will track and render any modifications to your docs. This instantaneous feedback makes writing docs significantly easier and faster.</p><p>Assuming you are in <code>directory/to/YourPackage.jl</code> and that you have a <code>docs/</code> folder as prescribed by <code>Documenter</code>, just run:</p><pre><code class="language-julia">julia&gt; using LiveServer
julia&gt; servedocs()
[ Info: SetupBuildDirectory: setting up build directory.
[ Info: ExpandTemplates: expanding markdown templates.
...
└ Deploying: ✘
✓ LiveServer listening on http://localhost:8000/ ...
  (use CTRL+C to shut down)</code></pre><p>Open a browser and go to <code>http://localhost:8000/</code> to see your docs being rendered; try modifying files (e.g. <code>docs/index.md</code>) and watch the changes being rendered in the browser.</p><h2><a class="nav-anchor" id="How-it-works-1" href="#How-it-works-1">How it works</a></h2><p>Let&#39;s assume you have a directory similar to that generated by <a href="lib/internals/#LiveServer.example"><code>LiveServer.example()</code></a>:</p><pre><code class="language-none">.
├── css
│   └── master.css
├── files
│   └── TestImage.png
├── index.html
└── pages
    └── blah.html</code></pre><p>Calling <code>serve()</code> from within this directory starts a file server. It serves the contents of the directory as a static site, with the folder structure defining the paths of the URLs. That is, the file <code>blah.html</code> can be viewed at <code>/pages/blah.html</code>. When a directory is specified instead of a file, the server checks whether there is a file <code>index.html</code> in this directory and serves it if available.</p><p>Visiting <code>http://localhost:8000/</code> makes your browser send a standard HTTP <code>GET</code> request to the server. The server, running a listener loop, receives this request, looks for <code>index.html</code> in the root folder, and serves it. After serving it, <code>LiveServer</code> adds this file to the list of watched files. That is, whenever this file changes, a callback is fired (see below). The HTML page may also contain references to style sheets or pictures, which are then requested by your browser as well. The server sends them to the browser, and also adds them to the list of watched files.</p><p><strong>But what about the live reloading?</strong> Triggering a page refresh in the browser is achieved by a WebSocket connection. The WebSocket API, according to <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API">MDN</a>, is</p><blockquote><p>an advanced technology that makes it possible to open a two-way interactive communication session between the user&#39;s browser and a server.</p></blockquote><p><code>LiveServer</code> injects a small piece of JavaScript code into every HTML file before serving it. This snippet is executed by the browser and opens a WebSocket connection to the server, which in turn adds it to a list of viewers of this page.</p><p>The server can now send the message &quot;update&quot; to all viewers of a page whenever the page is changed. The code snippet reacts to this message by triggering a page reload (same as hitting <code>F5</code>). The update is triggered by the callback mentioned above. When the file is not an HTML file, the viewers of <em>any</em> HTML file are updated, since <code>LiveServer</code> currently does not keep track of which HTML files reference what other files.</p><footer><hr/><a class="next" href="man/functionalities/"><span class="direction">Next</span><span class="title">Functionalities</span></a></footer></article></body></html>
